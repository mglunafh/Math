\subsection{Евклидовы кольца и области главных идеалов}

\begin{defn} Пусть $A$ -- область целостности. $A$ вкупе с отображением $\varphi:A\backslash\{0\}\to \mathbb{N}_0$ будет называться евклидовым кольцом, если  $\varphi$ выдерживает следующие два условия:
\begin{enumerate}
	\item $\forall a,b \in A\backslash\{0\} \ \ \varphi(ab)\geqslant \varphi(a);$
	\item $\forall a,b \in A\backslash\{0\} \ \ \exists q,r \in A,$ такие, что $a=qb+r,$ и либо $r=0,$ либо $\varphi(r)<\varphi(b).$
\end{enumerate}
\end{defn}

За примерами далеко ходить не надо. Евклидовым кольцом является кольцо целых чисел, где $\varphi$ --- это модуль целого числа. Евклидово также кольцо многочленов над любым полем, $\varphi$ на этот раз --- функция степени. Говорят, $\mathbb{Z}[i]$ тоже евклидово, но о функции $\varphi$ умалчивают.

Вспомним, что такое идеал.
\begin{defn} Пусть $A$ --- (коммутативное, ассоциативное) кольцо. Непустое подмножество $I \subseteq~ A$ называется идеалом, если:
\begin{enumerate}
	\item $\forall a,b \in I $  $ a-b \in I;$
	\item $\forall a\in I, r \in A $ $ ar \in I.$
\end{enumerate}
Тривиальным идеалом называется нулевой идеал, несобственным --- все кольцо. Несобственными идеалами называют идеалы, отличающиеся от этих двух.
\end{defn}

\begin{defn} Пусть $A$ --- это кольцо, $x\in A.$ Главным идеалом, порожденным элементом $x$ называется множество
$$ (x) = \left\{ax| a \in A\right\}.$$
\end{defn}

К примеру, в  $\mathbb{Z}$ можно привести такие главные идеалы: $(0)$ --- нулевой идеал; $(1)$ --- все кольцо $\mathbb{Z}$; $(2)$ --- множество всех четных чисел; $(5)$ --- множество всех целых чисел, делящихся на пять.

Ошибкой было бы думать, что идеалы бывают только главные, на это существует следующий идеал в кольце целочисленных многочленов $\mathbb{Z}[X]:$
$$ I = \left\{f \in \mathbb{Z}[X] | \ \  2 \text{ делит } f(0)\right\}.$$
Это идеал, содержащий все многочлены с четными коэффициентами. Мнение: он не главный.

Докажем от противного, предположив, что $I = (g)$ для некоторого многочлена $g\in \mathbb{Z}[X].$
Отметим, что для степени этого многочлена есть лишь три возможности и не более.
\begin{enumerate}
	\item $\deg g \geqslant 1.$ Но тогда в $(g)$ не может попасть постоянный многочлен $2.$
	\item $\deg g = -1.$ Но ведь $I$ не может равняться нулевому идеалу, в нем слишком много элементов!
	\item $\deg g = 0.$ Это означает, что $g$ является ненулевой четной константой. В таком случае в идеал, порожденный $g$, не попадет многочлен $f=x$ со вполне четным свободным коэффициентом, так как из равенства $f = ga$ для некоторого $a\in \mathbb{Z}[X]$, следует, что все коэффициенты $f$ должны быть четны.
\end{enumerate}
Противоречие, ничего не скажешь.

\begin{defn} Пусть $A$ --- область целостности. $A$ будет областью главных идеалов, если каждый идеал в $A$ --- главный.
\end{defn}

\begin{thm} Оказывается, каждое евклидово кольцо является областью главных идеалов.
\end{thm}
\begin{proof}
Рассмотрим идеал $I$ в данном евклидовом кольце. Нулевой идеал порождается нулем, исходя из чего содержательно утверждение доказывать для ненулевых идеалов. Функция $\varphi$ из определения эвклидова кольца принимает на $I$ наименьшее значение, но не в силу (второй?)теоремы Вейерштрасса, а потому, что ограниченное снизу подмножество $\mathbb{Z}$ --- a $\varphi(I) \subseteq \mathbb{Z}_0$ как раз таким является --- имеет наименьший(минимальный?) элемент.
Обозначим через $x$ один из таких элементов кольца, что $\varphi(x)$ минимален и докажем, что $(x)=I.$

Включение $(x)\subseteq I$ уже выполнено автоматически, докажем обратное включение. Для этого любой элемент $a\in I$(желательно ненулевой) поделим с остатком на $x:$ $\exists q,r \in A$ такие, что $a = qx + r.$ Перепишем это равенство в виде $r=a - qx,$ и отметим, что $r$ как разность двух элеменотов идеала снова попадает в идеал. Но из того, что $\varphi (x)$ минимальна, следует равенство $r$ нулю, поскольку в противном случае $\varphi(r)$ должно быть больше либо равно $\varphi(x),$ что противоречит определению деления с остатком. Ну а раз $r=0,$ то $a=qx$ для всех $a\in I,$ а значит, $(x)\supseteq I.$ Успех!
\end{proof}

\subsection{Факториальность областей главных идеалов}
Факты, которые появляются в данном параграфе, явились одним из многочисленных следствий попытки обобщить основную теорему арифметики для целых чисел на более общую ситуацию. 

Понятие простого числа в кольце целых чисел является частным случаем понятия неприводимого элемента.

\begin{defn}Пусть $A$ --- коммутативное кольцо. Элемент $a\in A$ неприводим, если:
\begin{enumerate}
	\item $a\neq 0;$
	\item $a \notin A^*;$
	\item Если $a$ представляется в виде произведения некоторых $b,c \in A,$ то тогда один из сомножителей является обратимым. 
\end{enumerate}
\end{defn} 

\begin{defn} Пусть $A$ --- область целостности. $A$ --- факториальное кольцо, если любой ненулевой и необратимый элемент из $A$ можно представить в виде произведения неприводимых сомножителей с точностью до порядка сомножителей и ассоциированности.
\end{defn}

Таким образом, основная теорема арифметики допускает следующую формулировку: $\mathbb{Z}$ факториально. Для кольца целых чисел данный факт доказывается достаточно легко и вполне непринужденно. Кнут, помнится мне, предлагал доказать данную теорему за пять минут, не используя бумажку и ручку, или используя совсем немного. Однако важнейшую роль в этом доказательстве играет отношение порядка на $\mathbb{Z}.$ В случае евклидова кольца могла как-нибудь помочь функция $\varphi,$ но вот для области главных идеалов все уже не так просто.

\begin{lem}\label{Div.Ideal} Пусть $A$ --- коммутативное кольцо с единицей, $a,b\in A,$ тогда: 
\begin{enumerate}
	\item $a|b \Leftrightarrow (b)\subseteq (a);$
	\item $a$ и $b$ ассоциированы $\Leftrightarrow (b)=(a).$
\end{enumerate}
\end{lem}
\begin{proof}
Второе свойство вытекает из первого, а первое очевидно. И тем не менее, в правую сторону первое свойство верно, так как раз $\forall z\in (b)\ \ b|z $ и $a|b,$ значит, $a|z,$ и тогда $z\in (a);$ в обратную же сторону доказательство заканчивается в тот момент, когда всплывает факт, что само $b$ принадлежит $(a)$ и потому на $a$ делится.
\end{proof}

\begin{prop}Для области главных идеалов выполнено свойство обрыва цепочки возрастающих идеалов, то есть  если для любых идеалов $I_1,I_2,I_3, \ldots \subseteq A,$ таких, что $I_1 \subseteq I_2 \subseteq I_3 \subseteq \ldots,$ то тогда c какого-то номера идеалы начинают совпадать: $I_n = I_{n+1}=\ldots$
\end{prop}
\begin{proof}
Давайте рассмотрим подобную цепочку возрастающих идеалов и вместе с ней объединение $J = \bigcup\limits_{n=1}^\infty I_n.$ Докажем, что $J$ --- идеал в $A$. Первое: $J$ не пусто. Второе: элементы $a_1,a_2$ из $J$ попадают в $J$ вместе с идеалами $I_{n_1}$ и $I_{n_2},$ в идеале с максимальным номером $N = \max(n_1,n_2)$ содержатся оба, а тогда $a_1-a_2 \in I_n \subseteq J.$ Третье: если взять $a\in J,r\in A,$ то $ar$ принадлежит уже тому идеалу $I_n$, в который попадает элемент $a$, чего уж говорить про объединение всех идеалов $I_n.$

Итак, $J$ --- идеал в кольце главных идеалов, а это значит, что он порожден некоторым элементом $c\in A$ и что $c$ попадает в $J$ вместе с некоторым $I_n.$ Вытекающая  отсюда цепочка включений и равенств:
$$ J = (c) \subseteq I_n \subseteq I_{n+1} \subseteq \ldots \subseteq J,$$
из которой следует, что все идеалы с номерами больше $n$ совпадают.
\end{proof}

\setcounter{cor}{0}
\begin{cor} Если $A$ --- область главных идеалов, то любой ненулевой необратимый элемент $a\in A$ делится на некоторый неприводимый. 
\end{cor}
\begin{proof} Построим некую возрастающую цепочку идеалов.
\begin{itemize}
	\item Если $a$ само неприводимо, то все доказано. В противном случае $a=b_1c_1,$ где оба числа необратимы.
	\item Если $b_1$ неприводимо, то пожалуйста, $b_1$ тот самый, что мы ищем. В противном случае $b_1 = b_2c_2,$ причем опять же $b_2,c_2$ необратимы.
\end{itemize}
И так далее... Если мы предполагаем, что цепочка ни на каком шаге не обрывается, то получаем в итоге цепочку равенств $a=b_1c_1$, $b_1 = b_2c_2,$ $b_2=b_3c_3, \ldots,$ \\ где все $b_i,c_i$ необратимы,  $b_1 $ делит $ a,$ $b_2 $ делит $ b_1,$ $b_3 $ делит $b_2,$ и так далее. Последнее свойство порождает цепочку включений:
$$ (a) \subseteq (b_1) \subseteq (b_2) \subseteq (b_3) \subseteq \ldots,$$
которая в некий момент превращается в цепочку равенств. Пусть $(b_n)=(b_{n+1}),$ тогда по лемме \ref{Div.Ideal} $b_n$ и $b_{n+1}$ ассоциированы, и в силу давнего свойства ассоциированных элементов $b_n = b_{n+1}\varepsilon,$ где $\varepsilon\in A^*$. Но, вспоминая другое равенство $b_n=b_{n+1}c_{n+1},$ получаем, что $c_{n+1} = \varepsilon$ является обратимым. Противоречие с высказанным предположением.
\end{proof}

\begin{lem}\label{EquivOfPrimes} Если $p,q\in A, \varepsilon \in A^*,$ и $p=q\varepsilon,$ то неприводимость $p$ равносильна неприводимости $q$.
\end{lem}
\begin{proof}
Выведем из неприводимости $p$ неприводимость $q.$ Пусть $q=bc,$ и требуется  доказать, что $b$ либо $c$ обратим.   Подставим в данное условием равенство: $p=bc\varepsilon=b(c\varepsilon),$ и, так как $p$ неприводим, либо $b,$ обратим, либо $c\varepsilon$ обратим. Первый случай удовлетворяет нашему требованию. Если же обратный найдется для $c\varepsilon$, то нетрудно обратный предъявить уже и для $c.$

Утверждение в обратную сторону доказывается аналогично. 
\end{proof}

\begin{cor} Область главных идеалов является факториальным кольцом. Доказательство существования.
\end{cor}
\begin{proof}
Давайте, что ли, разложим ненулевой необратимый элемент $a\in A$, где $A$ --- область главных идеалов, на произведение неприводимых сомножителей. 
\begin{itemize}
	\item По первому следствию $a=p_1a_1,$ где $p_1$ --- неприводимый. Если $a_1$ неприводимый или обратимый, то доказательство закончено.
	\item В противном случае, исходя из первого следствия, $a_1=p_2a_2,$ где $p_2$ неприводим. Для $a_2$ рассуждения приводятся аналогичные.
\end{itemize}
Давайте, чтобы не заниматься потерей времени, будем сразу считать, что ни на каком шаге у нас не получается, чтобы $a_n$ оказался неприводимым или обратимым --- иначе следствие доказывается. С другой стороны, мы получим возрастающую последовательность идеалов $(a)\subseteq (a_1)\subseteq (a_1) \subseteq \ldots,$ которая, тем не менее, превращается в постоянную: начиная с некоторого места $n \ \ (a_n)=(a_{n+1})=\ldots$ Таким образом, на шаге $n$ мы имеем противоречивое равенство: $a_n=p_{n+1}a_{n+1} = a_{n+1} \varepsilon,$ где $p_{n+1}$ необратимый, a $\varepsilon$ вдруг обратимый. 
\end{proof}

\begin{defn} Пусть $A$ --- коммутативное кольцо с единицей, $a,b\in A.$ Элемент $d\in A$ называется наибольшим общим делителем, если:
\begin{enumerate}
	\item $d$ является делителем обоих элементов $a$ и $b$;
	\item выполнено, что называется, "`универсальное"' свойство: если $d'$ тоже делит $a$ и $b$, то $d'$ также делит и $d.$
\end{enumerate}
\end{defn}

\begin{rem} Если $a$ и $a'$ ассоциированы, то они делят и делятся на одни и те же элементы в кольце. Следовательно, два наибольших общих делителя $a$ и $b$ всегда ассоциированы, и ассоциированный с наибольшим общим делителем --- сам наибольший общий делитель.
\end{rem}

\begin{prop} Пусть $A$ --- область главных идеалов, $a,b\in A.$ 
\begin{enumerate}
	\item Существует наибольший общий делитель $a$ и $b$;
	\item наибольший общий делитель $a$ и $b$ представим в виде их линейной комбинации: если $d=\gcd(a,b),$ то $\exists x,y\in A: \ \ d=xa+yb.$ 
\end{enumerate}
\end{prop}
\begin{proof}
 Рассмотрим следующий идеал:
 $$I = \left\{xa+yb\ \ | \ \ x,y\in A\right\} = (a,b).$$
Вроде как его можно обозвать идеалом, порожденным $a$ и $b.$ Есть также мнение, что то, что это идеал, нужно доказывать, кто проверит пару свойств --- тот молодец. Мы же сразу скажем, что это идеал, и отметим, что на его долю выпала участь быть порожденным некоторым $d:$ $(d)=I.$ Докажем, что $\gcd(a,b)=d.$ Раз $a,b\in I,$ то $d|a, \ \ d|b.$ Если некоторый $d'$ делит $a$ и $b$, то $d'$ делит всевозможные $ax+by$, а значит, и элемент $d$ тоже. 
\end{proof}
